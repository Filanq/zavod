<template>
    <main>
        <section class="section banner__section">
            <div class="container banner__container gap-25">
                <div class="banner__inner grid grid-column gap-50 ji-s ac-c">
                    <h1 class="h1 banner__title w-700" data-aos="fade-right"><span class="font-inherit w-inherit">Отдел типографии</span> <span class="txt-gradient font-inherit w-inherit color-main">«Деловая клякса»</span></h1>
                    <p class="banner__text grid grid-column gap-10 ji-s ac-s">
                        <span data-aos="fade-right" class="grid grid-row gap-10 ai-c jc-s">
                            <svg style="height: 25px; width: 25px" fill="#637eff" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="m16 0c8.836556 0 16 7.163444 16 16s-7.163444 16-16 16-16-7.163444-16-16 7.163444-16 16-16zm0 2c-7.7319865 0-14 6.2680135-14 14s6.2680135 14 14 14 14-6.2680135 14-14-6.2680135-14-14-14zm6.6208153 9.8786797c.3905243.3905242.3905243 1.0236892 0 1.4142135l-7.0710678 7.0710678c-.3626297.3626297-.9344751.3885319-1.3269928.0777064l-.0872208-.0777064-4.24264068-4.2426407c-.39052429-.3905242-.39052429-1.0236892 0-1.4142135.39052428-.3905243 1.02368928-.3905243 1.41421358 0l3.5348268 3.5348268 6.3646681-6.3632539c.3905243-.3905243 1.0236893-.3905243 1.4142136 0z"></path></g></svg>
                            <span>Различные форматы и дизайнерская бумага.</span>
                        </span>
                        <span data-aos="fade-right" class="grid grid-row gap-10 ai-c jc-s">
                            <svg style="height: 25px; width: 25px" fill="#637eff" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="m16 0c8.836556 0 16 7.163444 16 16s-7.163444 16-16 16-16-7.163444-16-16 7.163444-16 16-16zm0 2c-7.7319865 0-14 6.2680135-14 14s6.2680135 14 14 14 14-6.2680135 14-14-6.2680135-14-14-14zm6.6208153 9.8786797c.3905243.3905242.3905243 1.0236892 0 1.4142135l-7.0710678 7.0710678c-.3626297.3626297-.9344751.3885319-1.3269928.0777064l-.0872208-.0777064-4.24264068-4.2426407c-.39052429-.3905242-.39052429-1.0236892 0-1.4142135.39052428-.3905243 1.02368928-.3905243 1.41421358 0l3.5348268 3.5348268 6.3646681-6.3632539c.3905243-.3905243 1.0236893-.3905243 1.4142136 0z"></path></g></svg>
                            <span>Креативные идеи подарков на все случаи жизни.</span>
                        </span>
                        <span data-aos="fade-right" class="grid grid-row gap-10 ai-c jc-s">
                            <svg style="height: 25px; width: 25px" fill="#637eff" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="m16 0c8.836556 0 16 7.163444 16 16s-7.163444 16-16 16-16-7.163444-16-16 7.163444-16 16-16zm0 2c-7.7319865 0-14 6.2680135-14 14s6.2680135 14 14 14 14-6.2680135 14-14-6.2680135-14-14-14zm6.6208153 9.8786797c.3905243.3905242.3905243 1.0236892 0 1.4142135l-7.0710678 7.0710678c-.3626297.3626297-.9344751.3885319-1.3269928.0777064l-.0872208-.0777064-4.24264068-4.2426407c-.39052429-.3905242-.39052429-1.0236892 0-1.4142135.39052428-.3905243 1.02368928-.3905243 1.41421358 0l3.5348268 3.5348268 6.3646681-6.3632539c.3905243-.3905243 1.0236893-.3905243 1.4142136 0z"></path></g></svg>
                            <span>Простой в использовании онлайн-редактор.</span>
                        </span>
                        <span data-aos="fade-right" class="grid grid-row gap-10 ai-c jc-s">
                            <svg style="height: 25px; width: 25px" fill="#637eff" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="m16 0c8.836556 0 16 7.163444 16 16s-7.163444 16-16 16-16-7.163444-16-16 7.163444-16 16-16zm0 2c-7.7319865 0-14 6.2680135-14 14s6.2680135 14 14 14 14-6.2680135 14-14-6.2680135-14-14-14zm6.6208153 9.8786797c.3905243.3905242.3905243 1.0236892 0 1.4142135l-7.0710678 7.0710678c-.3626297.3626297-.9344751.3885319-1.3269928.0777064l-.0872208-.0777064-4.24264068-4.2426407c-.39052429-.3905242-.39052429-1.0236892 0-1.4142135.39052428-.3905243 1.02368928-.3905243 1.41421358 0l3.5348268 3.5348268 6.3646681-6.3632539c.3905243-.3905243 1.0236893-.3905243 1.4142136 0z"></path></g></svg>
                            <span>Загрузка фото с компьютера или из соц. сетей.</span>
                        </span>
                        <span data-aos="fade-right" class="grid grid-row gap-10 ai-c jc-s">
                            <svg style="height: 25px; width: 25px" fill="#637eff" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="m16 0c8.836556 0 16 7.163444 16 16s-7.163444 16-16 16-16-7.163444-16-16 7.163444-16 16-16zm0 2c-7.7319865 0-14 6.2680135-14 14s6.2680135 14 14 14 14-6.2680135 14-14-6.2680135-14-14-14zm6.6208153 9.8786797c.3905243.3905242.3905243 1.0236892 0 1.4142135l-7.0710678 7.0710678c-.3626297.3626297-.9344751.3885319-1.3269928.0777064l-.0872208-.0777064-4.24264068-4.2426407c-.39052429-.3905242-.39052429-1.0236892 0-1.4142135.39052428-.3905243 1.02368928-.3905243 1.41421358 0l3.5348268 3.5348268 6.3646681-6.3632539c.3905243-.3905243 1.0236893-.3905243 1.4142136 0z"></path></g></svg>
                            <span>Оперативное изготовление и доставка до двери.</span>
                        </span>
                    </p>
                    <router-link to="/order" data-aos="fade-right" class="btn-main btn-long">Заказ</router-link>
                </div>
                <div class="banner__inner banner__inner_img grid grid-column gap-25 ji-s ac-c"></div>
            </div>
        </section>

        <section class="section marque__section">
            <div class="container marque__container">
                <div class="marque__wrapper grid ai-c jc-s">
                    <div class="marque__inner grid grid-row ai-c jc-sa width-100">
                        <img src="@/assets/img/logo/logo_grey.png" class="marque__logo" alt="Деловая Клякса">
                        <img src="@/assets/img/logo/logo_grey.png" class="marque__logo" alt="Деловая Клякса">
                        <img src="@/assets/img/logo/logo_grey.png" class="marque__logo" alt="Деловая Клякса">
                        <img src="@/assets/img/logo/logo_grey.png" class="marque__logo" alt="Деловая Клякса">
                        <img src="@/assets/img/logo/logo_grey.png" class="marque__logo" alt="Деловая Клякса">
                    </div>
                    <div class="marque__inner grid grid-row ai-c jc-sa width-100">
                        <img src="@/assets/img/logo/logo_grey.png" class="marque__logo" alt="Деловая Клякса">
                        <img src="@/assets/img/logo/logo_grey.png" class="marque__logo" alt="Деловая Клякса">
                        <img src="@/assets/img/logo/logo_grey.png" class="marque__logo" alt="Деловая Клякса">
                        <img src="@/assets/img/logo/logo_grey.png" class="marque__logo" alt="Деловая Клякса">
                        <img src="@/assets/img/logo/logo_grey.png" class="marque__logo" alt="Деловая Клякса">
                    </div>
                </div>
            </div>
        </section>

        <section class="section data__section">
            <div class="container data___container gap-50">
                 <h2 data-aos="fade-left" class="h2 data__title w-700 ta-c">
                     Вы можете нам <br><span class="txt-gradient font-inherit w-inherit">довериться</span>!
                 </h2>
                <p data-aos="fade-right" class="w-200 ta-c data__text">
                    Процесс оформления заказа и редактирования шаблона прост и интуитивно понятен.
                    Каждый шаг, ведущий к оформлению заказа, либо сопровождается информацией, либо совсем её не требует.
                    При редактирование шаблона важно убедиться в том, что все введенные вами данные верны,
                    а так же проверить орфографические и стилестические ошибки.
                    <br><br>
                    Редактирование макета,
                    созданного вами в редакторе, осуществляется в исключительных случаях. Советуем вам быть очень
                    внимательными на шаге проверки макета, и убедиться, что вся информация верна.
                </p>
                <div data-aos="fade-up" class="data__inner grid width-100 jc-sb gap-10 ai-c mb-50">
                    <div class="data__card grid grid-column gap-10 ji-c ai-c">
                        <span class="h3 txt-gradient-2 w-700">{{ counters[0].current }}+</span>
                        <span class="ta-c">Заказов в месяц</span>
                    </div>
                    <div class="data__card grid grid-column gap-10 ji-c ai-c">
                        <span class="h3 txt-gradient-2 w-700">{{ counters[1].current }}%</span>
                        <span class="ta-c">Довольный клиентов</span>
                    </div>
                    <div class="data__card grid grid-column gap-10 ji-c ai-c">
                        <span class="h3 txt-gradient-2 w-700">{{ counters[2].current }}%</span>
                        <span class="ta-c">Компетентные сотрудники</span>
                    </div>
                </div>
                <a data-aos="fade-up" href="#reviews" class="btn-main btn-long">Отзывы</a>
            </div>
        </section>

        <section id="reviews" class="section reviews__section">
            <div class="container reviews__container gap-50">
                <div class="grid grid-row gap-25 reviews__inner_header ai-e jc-sb width-100 js-s">
                    <h2 data-aos="fade-right" class="h2 reviews__title w-700">
                        <span class="txt-gradient font-inherit w-inherit">Отзывы</span><br>
                        наших клиентов
                    </h2>
                    <div data-aos="fade-left" class="grid grid-row gap-10 ai-c jc-s">
                        <button class="btn-main w-700" @click="swiperPrevSlide"><</button>
                        <button class="btn-main w-700" @click="swiperNextSlide">></button>
                    </div>
                </div>
                <swiper
                    data-aos="fade-up"
                    :slides-per-view="3"
                    :breakpoints="{
                      '320': {
                        slidesPerView: 1,
                        spaceBetween: 20,
                      },
                      '768': {
                        slidesPerView: 2,
                        spaceBetween: 40,
                      },
                      '1480': {
                        slidesPerView: 3,
                        spaceBetween: 50,
                      },
                    }"
                    :space-between="50"
                    :modules="[Navigation, Pagination]"
                    :pagination="{clickable: true}"
                    @swiper="onSwiper"
                >
                    <swiper-slide class="reviews__card grid grid-column ji-c ac-s gap-25">
                        <img src="@/assets/img/reviews/1.jpg" alt="Портрет" class="reviews-card__img">
                        <p class="reviews-card__text w-200 ta-c">
                            Я заказала печать визиток в этой типографии и осталась очень довольна результатом. Качество бумаги и печати на высшем уровне. Менеджеры были вежливыми и помогли выбрать оптимальный вариант. Заказ был выполнен в срок, что очень важно для меня. Обязательно вернусь снова!
                        </p>
                    </swiper-slide>
                    <swiper-slide class="reviews__card grid grid-column ji-c ac-s gap-25">
                        <img src="@/assets/img/reviews/2.jpg" alt="Портрет" class="reviews-card__img">
                        <p class="reviews-card__text w-200 ta-c">
                            Типография порадовала своим широким ассортиментом услуг. Я делал печать буклетов, и результат превзошел все ожидания. Цвета яркие, а качество печати отличное. Цены вполне разумные для такого уровня сервиса. Рекомендую всем, кто ищет надежного партнера!
                        </p>
                    </swiper-slide>
                    <swiper-slide class="reviews__card grid grid-column ji-c ac-s gap-25">
                        <img src="@/assets/img/reviews/3.jpg" alt="Портрет" class="reviews-card__img">
                        <p class="reviews-card__text w-200 ta-c">
                            Я воспользовался услугами этой типографии для печати календарей на следующий год. Процесс оформления заказа был простым и удобным. Качество исполнения на высоте, все детали выполнены аккуратно. Доставка была быстрой, и я получил заказ раньше срока. Обязательно порекомендую друзьям!
                        </p>
                    </swiper-slide>
                    <swiper-slide class="reviews__card grid grid-column ji-c ac-s gap-25">
                        <img src="@/assets/img/reviews/1.jpg" alt="Портрет" class="reviews-card__img">
                        <p class="reviews-card__text w-200 ta-c">
                            Я заказала печать визиток в этой типографии и осталась очень довольна результатом. Качество бумаги и печати на высшем уровне. Менеджеры были вежливыми и помогли выбрать оптимальный вариант. Заказ был выполнен в срок, что очень важно для меня. Обязательно вернусь снова!
                        </p>
                    </swiper-slide>
                    <swiper-slide class="reviews__card grid grid-column ji-c ac-s gap-25">
                        <img src="@/assets/img/reviews/2.jpg" alt="Портрет" class="reviews-card__img">
                        <p class="reviews-card__text w-200 ta-c">
                            Типография порадовала своим широким ассортиментом услуг. Я делал печать буклетов, и результат превзошел все ожидания. Цвета яркие, а качество печати отличное. Цены вполне разумные для такого уровня сервиса. Рекомендую всем, кто ищет надежного партнера!
                        </p>
                    </swiper-slide>
                    <swiper-slide class="reviews__card grid grid-column ji-c ac-s gap-10">
                        <img src="@/assets/img/reviews/3.jpg" alt="Портрет" class="reviews-card__img">
                        <p class="reviews-card__text w-200 ta-c">
                            Я воспользовался услугами этой типографии для печати календарей на следующий год. Процесс оформления заказа был простым и удобным. Качество исполнения на высоте, все детали выполнены аккуратно. Доставка была быстрой, и я получил заказ раньше срока. Обязательно порекомендую друзьям!
                        </p>
                    </swiper-slide>
                </swiper>
            </div>
        </section>

        <section class="section order__section" data-aos="fade-up">
            <div class="container order__container">
                <div class="order__wrapper grid grid-column gap-25 ji-c ac-c">
                    <h2 class="order__title h2 color-white w-700 ta-c">Делай заказ прямо сейчас!</h2>
                    <router-link to="/order" class="btn-long btn-white">Заказать печать</router-link>
                </div>
            </div>
        </section>
    </main>
</template>

<script setup>
    import { Navigation, Pagination } from "swiper/modules";
    import { Swiper, SwiperSlide } from 'swiper/vue';
    import 'swiper/css';
    import 'swiper/css/navigation'
    import 'swiper/css/pagination';
    import AOS from 'aos';
    import 'aos/dist/aos.css';
    import {onMounted, ref} from "vue";

    // Swiper
    const swiperInstance = ref();

    const swiperNextSlide = () => {
        swiperInstance.value.slideNext();
    };
    const swiperPrevSlide = () => {
        swiperInstance.value.slidePrev();
    };

    function onSwiper(swiper) {
        swiperInstance.value = swiper;
    }

    // Counter Animation
    const counters = ref([
        {
            current: 0,
            max: 500,
            time: 2000
        },
        {
            current: 0,
            max: 93,
            time: 2000
        },
        {
            current: 0,
            max: 100,
            time: 2000
        },
    ]);

    const updateCount = (count) => {
        let inc = count.time / count.max;
        if(count.max > count.current) {
            count.current += 1;
            setTimeout(()=>{updateCount(count)}, inc);
        }
        else{
            count.current = count.max;
        }
    };

    onMounted(() => {
        // AOS Init
        AOS.init();

        // Counters Animation
        let data_card = document.querySelector('.data__card');
        let counters_ran = false;
        window.addEventListener('scroll', () => {
            if(data_card.getBoundingClientRect().top - window.innerHeight + 100 <= 0 && !counters_ran){
                counters.value.forEach(count => {
                    updateCount(count);
                });
            }
        });
    });
</script>

<style scoped>
    /* Banner */
    .banner__container{
        grid-template-columns: 1fr 1fr;
    }
    .banner__section{
        background-image: url("@/assets/img/ban/bg.png");
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center right;
        min-height: 100vh;
    }
    /* Maruqe */
    @keyframes marque{
        0%{
            transform: translate(0, 0);
        }
        100%{
            transform: translate(-50%, 0);
        }
    }
    .marque__wrapper{
        width: 200%;
        left: 0;
        position: absolute;
        top: 0;
        grid-template-columns: 1fr 1fr;
        animation: marque 30s linear infinite;
        background-color: var(--colorWhite);
    }
    .marque__logo{
        width: 350px;
        padding: 20px 50px;
        border-radius: var(--borderRadius);
    }
    /* Data */
    .data__text{
        max-width: 768px;
    }
    .data__inner{
        max-width: 768px;
        grid-template-columns: 1fr 1fr 1fr;
    }
    /* Reviews */
    .swiper{
        width: 100%;
    }
    .reviews__card{
        padding: 20px 20px 60px;
        border-radius: var(--borderRadius);
        background-color: var(--colorWhite);
        box-shadow: var(--colorMain) 0 0 50px -35px;
    }
    .reviews__card:after{
        content: '';
        bottom: 0;
        left: 0;
        width: 100%;
        height: 40px;
        background-color: var(--colorGrey);
        position: absolute;
    }
    .reviews-card__img{
        width: 80px;
        height: 80px;
        border-radius: 50%;
        object-fit: cover;
        object-position: center center;
    }
    /* Order */
    .order__wrapper{
        background-image: url("@/assets/img/order/bg.jpg");
        border-radius: var(--borderRadiusBig);
        background-position: top center;
        background-size: cover;
        width: 100%;
        height: 50vh;
    }
    /* Media */
    @media(max-width: 1480px){
        .marque__logo:nth-child(n + 4){
            display: none;
        }
        .marque__wrapper{
            animation-duration: 15s;
        }
    }
    @media(max-width: 1024px){
        .banner__container{
            grid-template-columns: 2fr 1fr;
        }
        .marque__logo:nth-child(n + 3){
            display: none;
        }
        .marque__wrapper{
            animation-duration: 10s;
        }
    }
    @media(max-width: 768px){
        .banner__container{
            grid-template-columns: 100% 0;
        }
        .marque__logo:nth-child(n + 3){
            display: none;
        }
        .marque__wrapper{
            animation-duration: 10s;
        }
        .marque__logo{
            padding: 10px;
            width: 200px;
        }
        .banner__text span{
            text-shadow: var(--colorWhite) 1px 1px 1px, var(--colorWhite) 0 0 10px;
        }
        .reviews__inner_header{
            grid-template-columns: 2fr 1fr;
        }
        .reviews__inner_header .btn-main{
            padding: 10px 15px;
        }
        .btn-long{
            padding: 10px 25px;
        }
        .banner__section{
            background-size: 120%;
        }
    }
</style>
