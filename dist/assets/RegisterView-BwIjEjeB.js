import{_ as f,r as n,u as h,c as v,b as e,d as w,e as i,v as p,h as t,g as b,t as g,a as x,p as y,k as S,i as V,j as _}from"./index-CZpCk2-6.js";const o=r=>(y("data-v-f5072dea"),r=r(),S(),r),k={class:"section auth__section"},U={class:"container auth__container gap-50 ac-c"},I=o(()=>e("h2",{class:"h3 auth__title w-700 ta-c mb-25"},"Регистрация",-1)),B={for:"firstname",class:"label"},D=o(()=>e("span",null,"Ваше имя*",-1)),M={for:"lastname",class:"label"},R=o(()=>e("span",null,"Ваша фамилия*",-1)),T={for:"email",class:"label"},j=o(()=>e("span",null,"Ваша email*",-1)),C={for:"password",class:"label mb-25"},E=o(()=>e("span",null,"Ваш пароль*",-1)),N=o(()=>e("button",{type:"submit",class:"btn-main"},"Регистрация",-1)),$={__name:"RegisterView",setup(r){let d=n(""),a={firstname:n(""),lastname:n(""),email:n(""),password:n("")},c=h();const m=()=>{V.post(window.origin+"/api/register",{firstname:a.firstname.value,lastname:a.lastname.value,email:a.email.value,password:a.password.value}).then(async u=>{u.data.success?(console.log("success"),c.setCookie("token",u.data.token),c.login(),await _.push("/"),setTimeout(()=>{_.forward()},50)):d.value=u.data.message})};return(u,s)=>(x(),v("section",k,[e("div",U,[e("form",{onSubmit:s[4]||(s[4]=w(l=>m(),["prevent"])),class:"form auth__form",enctype:"application/x-www-form-urlencoded"},[I,e("label",B,[i(e("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>t(a).firstname.value=l),type:"text",class:"input auth__input",id:"firstname",placeholder:""},null,512),[[p,t(a).firstname.value]]),D]),e("label",M,[i(e("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>t(a).lastname.value=l),type:"text",class:"input auth__input",id:"lastname",placeholder:""},null,512),[[p,t(a).lastname.value]]),R]),e("label",T,[i(e("input",{"onUpdate:modelValue":s[2]||(s[2]=l=>t(a).email.value=l),type:"email",class:"input auth__input",id:"email",placeholder:""},null,512),[[p,t(a).email.value]]),j]),e("label",C,[i(e("input",{"onUpdate:modelValue":s[3]||(s[3]=l=>t(a).password.value=l),type:"password",class:"input auth__input",id:"password",placeholder:""},null,512),[[p,t(a).password.value]]),E]),i(e("span",{class:"color-red ta-c"},g(t(d)),513),[[b,t(d)]]),N],32)])]))}},z=f($,[["__scopeId","data-v-f5072dea"]]);export{z as default};
