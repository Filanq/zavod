import{_ as I,r as i,w as E,u as F,o as O,I as L,a as w,c as y,b as e,d as V,t as m,e as p,v as b,f as B,g as M,h as g,i as T,j as $,p as j,k as x,F as k,l as U,m as q,n as D}from"./index-BZYuOb9C.js";const l=a=>(j("data-v-88d997cf"),a=a(),x(),a),z={class:"section order-item__section"},N=l(()=>e("iframe",{class:"order-item__maps",src:"https://yandex.ru/map-widget/v1/?lang=ru_RU&scroll=true&source=constructor-api&um=constructor%3A35de66029325a0e22a48b8100d0c5c40d8e90b450093d5ff7e8d3414afe360a9",frameborder:"0",allowfullscreen:"true",width:"100%",height:"100%",style:{display:"block"}},null,-1)),Y={class:"container order-item__container ac-c"},A={class:"h3 w-700 order-item__title js-s mb-25"},R={class:"grid grid-column gap-10 ji-s ac-s width-100"},Z={for:"count",class:"label mb-10"},G=l(()=>e("span",null,"Тираж*",-1)),H={for:"tel",class:"label mb-10"},J=l(()=>e("span",null,"Телефон*",-1)),K={for:"tg",class:"label mb-10"},P=l(()=>e("span",null,"Telegram*",-1)),Q={for:"office",class:"label mb-10"},W=l(()=>e("option",{value:"0"},"Выберете офис",-1)),X=l(()=>e("option",{value:"Проспект имени 60-летия СССР, 34"},"Проспект имени 60-летия СССР, 34",-1)),ee=l(()=>e("option",{value:"улица Замятина, 4"},"улица Замятина, 4",-1)),te=l(()=>e("option",{value:"Советская улица, 25"},"Советская улица, 25",-1)),se=[W,X,ee,te],oe=l(()=>e("div",{class:"grid grid-column gap-10 ji-s ac-s width-100"},[e("input",{class:"form-upload__input js-c",id:"uploadForm_File",type:"file",name:"file_name",accept:"image/*","aria-describedby":"hint"})],-1)),ae={class:"js-s w-600 h5 txt-gradient mb-25"},le=l(()=>e("button",{type:"submit",class:"btn-main js-s"},"Заказать",-1)),ne={__name:"OrderComponent",props:["pdata"],emits:["close"],setup(a,{emit:h}){const u=a,d=h,t={count:i(),tel:i(""),tg:i(""),address:i(0)},_=i(0);E(t.count,()=>{_.value=t.count.value*u.pdata.sale});let r=i(""),v=F();const n=()=>{T.post(window.origin+"/api/order",{count:t.count.value,tel:t.tel.value,tg:t.tg.value,address:t.address.value,file:document.querySelector("#uploadForm_File").files[0],cost:_.value,type:u.pdata.title,token:v.getCookie("token")},{headers:{"Content-Type":"multipart/form-data"}}).then(async c=>{c.data.success?(r.value="",await $.push("/profile"),setTimeout(()=>{$.forward()},50)):r.value=c.data.message})};return O(()=>{let c=document.getElementById("tel");new L("+7 (999) 999 99-99",{placeholder:"_"}).mask(c);const s=document.querySelector(".form-upload__input");document.getElementById("uploadForm_Status"),document.getElementById("uploadForm_Size");const C=document.querySelector(".form-upload__input");["dragover","drop"].forEach(function(S){document.addEventListener(S,function(f){return f.preventDefault(),!1})}),s.addEventListener("dragenter",function(){s.classList.add("_active")}),s.addEventListener("dragleave",function(){s.classList.remove("_active")}),s.addEventListener("drop",function(){var f;s.classList.remove("_active"),(f=event.dataTransfer)!=null&&f.files[0]&&(C.files=event.dataTransfer.files)})}),(c,o)=>(w(),y("section",z,[N,e("div",Y,[e("form",{onSubmit:o[5]||(o[5]=V(s=>n(),["prevent"])),class:"form order-item__form gap-10"},[e("span",{onClick:o[0]||(o[0]=s=>d("close")),class:"h3 modal__close"},"✗"),e("h2",A,m(a.pdata.title),1),e("div",R,[e("label",Z,[p(e("input",{"onUpdate:modelValue":o[1]||(o[1]=s=>t.count.value=s),type:"number",class:"input auth__input",id:"count",placeholder:""},null,512),[[b,t.count.value]]),G]),e("label",H,[p(e("input",{"onUpdate:modelValue":o[2]||(o[2]=s=>t.tel.value=s),type:"tel",class:"input auth__input",id:"tel",placeholder:""},null,512),[[b,t.tel.value]]),J]),e("label",K,[p(e("input",{"onUpdate:modelValue":o[3]||(o[3]=s=>t.tg.value=s),type:"text",class:"input auth__input",id:"tg",placeholder:""},null,512),[[b,t.tg.value]]),P]),e("label",Q,[p(e("select",{"onUpdate:modelValue":o[4]||(o[4]=s=>t.address.value=s),class:"input",name:"office",id:"office"},se,512),[[B,t.address.value]])])]),oe,e("span",ae,"Стоимость: "+m(_.value),1),p(e("span",{class:"color-red ta-c js-s mb-25"},m(g(r)),513),[[M,g(r)]]),le],32)])]))}},ie=I(ne,[["__scopeId","data-v-88d997cf"]]),re=a=>(j("data-v-5393d4a7"),a=a(),x(),a),de={class:"section order__section"},ce={class:"container order__container gap-50"},ue=re(()=>e("h2",{class:"h2 order__title w-700 ta-c txt-gradient"}," Заказ печати ",-1)),_e={class:"order__inner grid gap-25 width-100"},pe=["onClick"],me=["src","alt"],ve={class:"h4 order-card__title w-600"},fe={class:"order-card__sale color-main-light h6"},ge={__name:"OrderView",setup(a){const h=[{title:"Фотографии",img:"/img/order/photo.png",sale:14.9},{title:"Открытки",img:"/img/order/postcard.png",sale:100},{title:"Плакаты",img:"/img/order/poster.png",sale:9900},{title:"Большие фотографии",img:"/img/order/big_photo.png",sale:105},{title:"Календари",img:"/img/order/calendars.png",sale:100}];let u=i({}),d=i(!1);const t=r=>{d.value||(u.value=r,document.body.style.overflowY="hidden",d.value=!0)},_=()=>{document.body.style.overflowY="",d.value=!1};return(r,v)=>(w(),y(k,null,[e("section",de,[e("div",ce,[ue,e("div",_e,[(w(),y(k,null,U(h,n=>e("div",{onClick:c=>t(Object.assign(n,Object)),class:"order__card grid grid-column ji-s ac-s gap-10"},[e("img",{src:n.img,class:"order-card__img",alt:n.title},null,8,me),e("h3",ve,m(n.title),1),e("span",fe,"от "+m(n.sale)+"₽",1)],8,pe)),64))])])]),q(ie,{pdata:g(u),class:D({"order-item__section_active":g(d)}),onClose:v[0]||(v[0]=n=>_())},null,8,["pdata","class"])],64))}},be=I(ge,[["__scopeId","data-v-5393d4a7"]]);export{be as default};
