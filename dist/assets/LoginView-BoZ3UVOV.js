import{_ as w,r as p,u as h,c as f,b as s,d as v,e as r,v as u,h as t,g as b,t as g,a as S,p as k,k as x,i as y,j as _}from"./index-CZpCk2-6.js";const n=l=>(k("data-v-5dbfeb87"),l=l(),x(),l),V={class:"section auth__section"},I={class:"container auth__container gap-50 ac-c"},U=n(()=>s("h2",{class:"h3 auth__title w-700 ta-c mb-25"},"Вход",-1)),B={for:"email",class:"label"},D=n(()=>s("span",null,"Ваша email*",-1)),L={for:"password",class:"label mb-25"},M=n(()=>s("span",null,"Ваш пароль*",-1)),T=n(()=>s("button",{type:"submit",class:"btn-main"},"Войти",-1)),j={__name:"LoginView",setup(l){let d=p(""),e={email:p(""),password:p("")},c=h();const m=()=>{y.post(window.origin+"/api/login",{email:e.email.value,password:e.password.value}).then(async o=>{console.log(o.data),o.data.success?(console.log("success"),c.setCookie("token",o.data.token),c.login(),await _.push("/"),setTimeout(()=>{_.forward()},50)):d.value=o.data.message})};return(o,a)=>(S(),f("section",V,[s("div",I,[s("form",{onSubmit:a[2]||(a[2]=v(i=>m(),["prevent"])),class:"form auth__form",enctype:"application/x-www-form-urlencoded"},[U,s("label",B,[r(s("input",{"onUpdate:modelValue":a[0]||(a[0]=i=>t(e).email.value=i),type:"email",class:"input auth__input",id:"email",placeholder:""},null,512),[[u,t(e).email.value]]),D]),s("label",L,[r(s("input",{"onUpdate:modelValue":a[1]||(a[1]=i=>t(e).password.value=i),type:"password",class:"input auth__input",id:"password",placeholder:""},null,512),[[u,t(e).password.value]]),M]),r(s("span",{class:"color-red ta-c"},g(t(d)),513),[[b,t(d)]]),T],32)])]))}},E=w(j,[["__scopeId","data-v-5dbfeb87"]]);export{E as default};
